ğŸŒ¿ GreenKube has been installed!

Release: {{ .Release.Name }}
{{- if .Values.config.api.enabled }}
âœ… The API is ready and healthy.
{{- end }}
The application is running as a Deployment and will continuously collect carbon intensity data.
{{- if .Values.config.api.enabled }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  API Access
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

The API is available within the cluster at:
  http://{{ include "greenkube.fullname" . }}-api:{{ .Values.config.api.port }}/api/v1

To access from your machine:
  kubectl port-forward svc/{{ include "greenkube.fullname" . }}-api {{ .Values.config.api.port }}:{{ .Values.config.api.port }}

Then open:
  Health:           http://localhost:{{ .Values.config.api.port }}/api/v1/health
  Metrics:          http://localhost:{{ .Values.config.api.port }}/api/v1/metrics
  Metrics Summary:  http://localhost:{{ .Values.config.api.port }}/api/v1/metrics/summary
  Nodes:            http://localhost:{{ .Values.config.api.port }}/api/v1/nodes
  Recommendations:  http://localhost:{{ .Values.config.api.port }}/api/v1/recommendations
  OpenAPI Docs:     http://localhost:{{ .Values.config.api.port }}/docs
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Configuration
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  WARNING: ACTION REQUIRED

This chart will not function until you provide an API token for Electricity Maps.

You can provide this token by editing your values.yaml:
  secrets.electricityMapsToken: "YOUR_TOKEN"

Then upgrade:
  helm upgrade {{ .Release.Name }} . -f values.yaml

OR create the secret manually:
  kubectl create secret generic {{ include "greenkube.fullname" . }} \
    --from-literal=ELECTRICITY_MAPS_TOKEN='YOUR_API_TOKEN_HERE' \
    --dry-run=client -o yaml | kubectl apply -f -

You may also need to set credentials for Prometheus and Elasticsearch in your values.yaml or in the secret.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  CLI Usage
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

View Logs:
  kubectl logs -l app.kubernetes.io/name={{ include "greenkube.name" . }} -f

Run an On-Demand Report:
  POD_NAME=$(kubectl get pods -l app.kubernetes.io/name={{ include "greenkube.name" . }} -o jsonpath='{.items[0].metadata.name}')
  kubectl exec -it $POD_NAME -- greenkube report

Run a Namespaced Report:
  kubectl exec -it $POD_NAME -- greenkube report --namespace my-app

Get Recommendations:
  kubectl exec -it $POD_NAME -- greenkube recommend